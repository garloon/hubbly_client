<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewmodels="clr-namespace:Hubbly.Mobile.ViewModels"
             xmlns:components="clr-namespace:Hubbly.Mobile.Components"
             x:Class="Hubbly.Mobile.Views.AboutPage"
             x:DataType="viewmodels:AboutViewModel"
             Title="{Binding AboutTitle}"
             BackgroundColor="{DynamicResource PageBackgroundColor}">

    <Grid x:Name="MainGrid" RowDefinitions="Auto,*" Padding="{StaticResource SpacingMd}">

        <!-- PageHeader Component -->
        <components:PageHeader Grid.Row="0"
                               Title="{Binding AboutTitle}"
                               ShowMenuButton="True"
                               ToggleFlyoutCommand="{Binding ToggleFlyoutCommand}"
                               ShowActionButton="True"
                               ActionButtonText="←"
                               ActionCommand="{Binding GoBackCommand}"
                               Margin="{StaticResource SpacingSm}" />

        <!-- Content -->
        <ScrollView Grid.Row="1" VerticalScrollBarVisibility="Never">
            <VerticalStackLayout Spacing="{StaticResource SpacingMd}">

                <!-- App Icon & Name -->
                <components:Card ShowTitle="False"
                                 ShowSeparator="False"
                                 Margin="{StaticResource SpacingSm}"
                                 HorizontalOptions="Center"
                                 WidthRequest="250">
                    <VerticalStackLayout Spacing="{StaticResource SpacingMd}" HorizontalOptions="Center">
                        <Image Source="appicon.svg"
                               WidthRequest="80"
                               HeightRequest="80"
                               HorizontalOptions="Center" />
                        <Label Text="{Binding AboutAppName}"
                               FontSize="18"
                               FontAttributes="Bold"
                               TextColor="{DynamicResource TextColor}"
                               HorizontalTextAlignment="Center" />
                        <Label Text="{Binding VersionText}"
                               FontSize="14"
                               TextColor="{DynamicResource SecondaryTextColor}"
                               HorizontalTextAlignment="Center" />
                    </VerticalStackLayout>
                </components:Card>

                <!-- Description -->
                <components:Card Title="{Binding AboutDescription}"
                                 ShowTitle="True"
                                 ShowSeparator="False"
                                 Margin="{StaticResource SpacingSm}">
                    <Label Text="{Binding AboutDescription}"
                           FontSize="14"
                           TextColor="{DynamicResource SecondaryTextColor}"
                           LineBreakMode="WordWrap" />
                </components:Card>

                <!-- Links -->
                <components:Card Title="Links"
                                 ShowTitle="True"
                                 ShowSeparator="False"
                                 Margin="8,0,16,0">
                    <VerticalStackLayout Spacing="{StaticResource SpacingSm}">

                        <!-- Terms of Service -->
                        <Button Text="{Binding Terms}"
                                Command="{Binding OpenTermsCommand}"
                                Style="{StaticResource SecondaryButtonStyle}"
                                FontSize="14"
                                HorizontalOptions="Center" />

                        <!-- Privacy Policy -->
                        <Button Text="{Binding Privacy}"
                                Command="{Binding OpenPrivacyCommand}"
                                Style="{StaticResource SecondaryButtonStyle}"
                                FontSize="14"
                                HorizontalOptions="Center" />

                    </VerticalStackLayout>
                </components:Card>

                <!-- Build Info -->
                <components:Card Title="Build Info"
                                 ShowTitle="True"
                                 ShowSeparator="False"
                                 Margin="8,0,16,0">
                    <VerticalStackLayout Spacing="{StaticResource SpacingXs}">
                        <Label Text="Framework: .NET MAUI"
                               FontSize="12"
                               TextColor="{DynamicResource SecondaryTextColor}" />
                        <Label Text="Backend: Hubbly API"
                               FontSize="12"
                               TextColor="{DynamicResource SecondaryTextColor}" />
                        <Label Text="© 2025 Hubbly"
                               FontSize="12"
                               TextColor="{DynamicResource SecondaryTextColor}" />
                    </VerticalStackLayout>
                </components:Card>

            </VerticalStackLayout>
        </ScrollView>

        <!-- Footer -->
        <VerticalStackLayout Grid.Row="2"
                             Spacing="5"
                             HorizontalOptions="Center"
                             Padding="{StaticResource SpacingMd}">
            <Label Text="Made with ❤️ by Hubbly Team"
                   FontSize="12"
                   TextColor="{DynamicResource SecondaryTextColor}"
                   HorizontalTextAlignment="Center" />
        </VerticalStackLayout>

    </Grid>

</ContentPage>
